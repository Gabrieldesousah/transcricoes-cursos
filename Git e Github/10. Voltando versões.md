# Voltando versões

Vamos ensinar agora como você pode voltar um commit de maneira muito fácil e descomplicada.

No módulo passado nós chegamos a adicionar 3 arquivos e depois remover um deles utilizando o **reset HEAD**. Então neste momento estamos com a mesma situação, em nosso terminal.

```
On branch master
Changes to be committed:
  (use "git reset HEAD <file>..." to unstage)

    new file:   teste3.txt
    new file:   teste4.txt

Untracked files:
  (use "git add <file>..." to include in what will be committed)

    teste2.txt
```

Agora vamos falar sobre voltar versões, porque esta é a grande finalidade de trabalhar com versões, se não fosse isso não teria muito sentido trabalhar com elas.

Existem diversas formas de você voltar uma versão, umas mais simples outras mais complicadas, mas que, no final, temos o mesmo efeito que é a volta para alguma versão específica.

Uma das maneiras mais simples é utilizando o comando **checkout** passando o hash do commit. Veja exemplo abaixo:

```
commit a7e09ab07b1f6622a49ebfb59fc76c77358d6caf
Author: Thiago Valls <thiago@schoolofnet.com>
Date:   Thu Mar 9 04:23:23 2017 -0300

    - Criando arquivo teste
    - Fazendo arquivo teste.oho dar um echo teste
```

`$ git checkout a7e09ab07b1f6622a49ebfb59fc76c77358d6caf`

Percebam que pegamos o hash, de um dos commits listados pelo git log, e você com certeza terá outro hash em sua listagem, mas basta você executar o mesmo comando com algum hash, de commit, de sua listagem.

Depois de rodar este comando nós temos uma mensagem dizendo que o nosso estado atual está apontando para o commit que informamos no comando checkout.

```
A   teste3.txt
A   teste4.txt
Note: checking out 'a7e09ab07b1f6622a49ebfb59fc76c77358d6caf'.

You are in 'detached HEAD' state. You can look around, make experimental
changes and commit them, and you can discard any commits you make in this
state without impacting any branches by performing another checkout.

If you want to create a new branch to retain commits you create, you may
do so (now or later) by using -b with the checkout command again. Example:

  git checkout -b <new-branch-name>

HEAD is now at a7e09ab... - Criando arquivo teste - Fazendo arquivo teste.oho dar um echo teste
```

Mas percebem que não voltamos ainda não assumimos totalmente este commit como sendo o atual, para que nós pudéssemos trabalhar com os arquivos atuais e os arquivos do commit que selecionamos, o Git cria uma nova camada, chamada **branch**. Nós falaremos mais sobre branchs em módulos posteriores, mas gostaríamos de lhe mostrar que isso é verdade. Para isso rode o comando abaixo:

`$ git branch`

Você terá o seguinte resultado:

```
* (HEAD detached at a7e09ab)
  master
```

Geralmente, todas as alteração feitas são no branch **master**, mas você pode ver agora que estamos trabalhando em outro branch, o qual está marcado com um asterísco.

Vamos supor que você já viu o que tinha que ver nesta versão, que você acessou, basta agora retornar para a versão master e ignorar este branch que foi criado.

`$ git checkout master`

Outra forma de acessasr commits anteriores é da seguinte forma:

`$ git reset HEAD~1` ou `$ git reset HEAD~2` ou `$ git reset HEAD~3`

Percebam que você volta quantos commits quiser, basta alterar o último número que é o índice do HEAD. Colocando 1 você retorna um commit, 2 você retorna dois e assim por diante.

Porém existem dois tipos de **reset HEAD**: soft e hard.

`$ git reset HEAD~1 --soft` ou `$ git reset HEAD~1 --hard`

Soft: remove todos os commits posteriores voltando os para o estágio anterior que é **changed to be commited**, mas ele os mantem na pasta para que possa ser adicionado novamente.

Hard: remove todos os commits posteriores a versão acessada e também os arquivos que a eles perteciam.

Isso significa que você deve tomar muito cuidado com o parâmetro **hard**, a não ser que queira ignorar todas as alterações feitas posteriormente àquela versão que você acessou.

Desta forma você pode trabalhar com as "idas e vindas" de suas versões. Agora basta praticar bastante e fazer testes para fixar o conteúdo.