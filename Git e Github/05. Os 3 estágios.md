# Os 3 estágios

Agora mostraremos como criar o primeiro repositório Git e também quais são os três principais estágios do processo. Nós utilizaremos alguns comandos, que talvez você ainda não conhece, para mostrar o processo, mas fique tranquilos que nós falaremos sobre todos eles nos próximos módulos. Por enquanto estaremos apenas mostrando o processo completo para que você tenha uma visão geral.

## Criando um repositório

Você pode estar se perguntando o que é um repositório. Repositório é uma pasta onde vai ficar todos os arquivos do seu projeto, a grande diferença desta pasta é que quando você inicia um repositório no Git, os arquivos desta pasta passam a fazer parte do controle de versão. Então sempre que falarmos de repositório, daqui pra frente, estaremos falando de uma pasta que está fazendo parte de um controle de versão.

Primeiro passo será criar uma pasta e depois acessar a mesma. Para isso utilizaremos os comandos abaixo:

Para criar a pasta:: `$ mkdir aulagit`

Para acessar a pasta: `$ cd aulagit`

Agora que estamos dentro da pasta criada basta rodar um simples comando para que esta pasta passe a ser um repositório. Veja o comando abaixo:

`$ git init`

Ao rodar este comando o Git irá criar uma pasta oculta chamada **.git**. Para verificar se a pasta realmente existe você pode rodar o comando `$ ls -la`. Este comando lista todos os arquivos e pastas, inclusive os ocultos.

Se você acessar este diretório você verá que existem diversos arquivos e pastas. Estes arquivos e pastas fazem parte da estrutura que o Git utilizará para controlar as versões dos seu projeto. Para verificar rode os comandos abaixo:

Acessar pasta .git: `$ cd .git`

Listar itens internos: `$ ls`

Desta forma, caso você queira destruir um sistema de versão de um projeto, basta você apagar esta pasta completa e você não terá mais controle de versão nenhum agindo sobre aquele projeto.

Agora que já temos um repositório criado, criaremos um arquivo dentro desta pasta.

Criando arquivo: `$ touch arquivo.txt`

Neste momento nós só criamos o arquivo, mas ele não tem conteúdo nenhum. Então abra este arquivo com qualquer editor de texto e crie um conteúdo. Nós adicionamos o famoso **Olá Mundo**.

A partir deste momento nós conseguimos mostrar para vocês os estágios básico de um commit. O Git possui 3 estágios para a conclusão do processo.

## Primeiro estágio - Untracked Files

O primeiro estágio é quando os arquivos são criados na pasta, mas como o arquivo é novo ele se encontra no estágio de **Untracked Files**, que é o caso do nosso **arquivo.txt**. Isso acontece porque ele é um arquivo desconhecido, ainda, pelo git, ou seja, ele está na pasta, mas o git ainda não está controlando a versão do mesmo.

Para verificar este estágio basta digitar o comando `$ git status`. Este comando irá listar todos os os arquivos novos e que sofreram modificações.

## Segundo estágio - Changes to be committed

Para o nosso arquivo de exemplo passar para o segundo estágio, nós precisamos rodar um comando que faça ele ser reconhecido pelo git. Veja o comando abaixo:

`$ git add arquivo.txt`

Depois que rodamos este comando o arquivo.txt não é mais untracked file, ele passa a estar em uma posição intermediária. Para verificar rode novamente um `$ git status`.

Nosso arquivo está no segundo estágio, que é conhecido como **Changes to be committed**, ou seja, os arquivos que estiverem neste estágio estão prontos para serem commitados. Quando falamos commitados estamos querendo dizer que este arquivo fará parte **efetivamente** do repositório após este procedimento. Quando executamos um commit o git cria um hash ou identificação deste commit.

## Terceiro estágio - Committed

O terceiro estágio é quando o arquivo já foi commitado. Então rodaremos o comando abaixo para que o nosso arquivo de exemplo faça parte deste último estágio.

`$ git commit -m "Meu primeiro commit"`

Reparem que estamos rodando o comando **commit** e passando um parâmetro **-m** que serve para adicionamos uma mensagem de identificação para nosso commit. É esta mensagem que nos fará conseguir acompanhar todos os estágios do desenvolvimento de um projeto, então ela deve ser muito explicativa, para quem ler saber o que realmente foi feito naquele commit.

Neste estágio se você rodar o comando `$ git status` você verá que teremos uma mensagem dizendo que não existe mais nada para commitar, é como se o processo tivesse sido finalizado e o git está limpo de qualquer interferência. Nós só conseguiremos realizar o procedimento novamente caso um novo arquivo seja adicionado, removido ou modificado. Caso um destes três fatores ocorram nós teremos o **git status** retornando processos a serem efetivados.

## Verificando histórico de commits

Para saber se realmente este arquivo foi commitado e também para verificar outros commits anteriores basta que você rode o seguinte comando:

`$ git log`

Este comando lhe retornará uma listagem dos últimos commits com o hash de identificação, a data e também o usuário que foi responsável pelo commit, que no caso será o seu usuário, que configuramos no módulo anterior.

Vale a pena falar que em um commit podem haver um ou mais arquivos que foram criados ou modificados. Em nosso exemplo commitamos apenas um arquivo, mas poderiam ser vários e o procedimento seria o mesmo.

## Alterando um arquivo do controle de versão

Para que você entenda como funciona a atualização de arquivos que já façam parte do controle de versão, abra o arquivo de exemplo e faça qualquer alteração nele. Depois de fazer a alteração salve e feche-o.

Logo após vá até o terminal novamente e rode o comando `$ git status`. Você verá que o git lhe informará que este arquivo faz parte do controle de versão e que ele foi modificado. A partir deste ponto você pode retornar ele ao segundo estágio novamente, basta que adicione ele novamente rodando o comando `$ git add arquivo.txt`.

Depois de rodar este comando nós o adicionamos ao segundo estágio, ou seja, preparamos novamente para um segundo commit e é o que faremos agora:

`$ git commit -m "Alterando o arquivo.txt"`

Nós nunca conseguimos pular um dos estágios, desta forma nunca conseguiremos commitar sem antes ter adicionado um arquivo ou vários arquivos.

Depois de commitar novamente podemos rodar novamente `$ git status` e teremos a seguinte mensagem: **nothing to commit, working directory clean**. Isso quer dizer o que já falamos acima, que não existem mais processos em aberto para serem comitados e que estamos com o diretório limpo, ou seja, todos arquivos, que estiverem lá dentro estão versionados pelo git.

Para analisar os commits já efetuados lembre de rodar o comando `$ git log`. Você conseguirá ver os dois commits efetuados até agora neste módulo.

# Conclusão

Este módulo foi específico para lhe passar o conceito, do processo, de forma geral. Resumindo podemos falar que sempre que criarmos um arquivo ele fará parte do primeiro estágio de **untracked file** e teremos que adicioná-lo a uma área intermediaria que o prepara para entrar no segundo estágio, onde ele estará pronto para ser commitado **Changes to be committed** e por último podemos levá-lo ao terceiro estágio efetuando o commit.

Lembrando que o arquivo quando é modificado ele volta ao primeiro estágio, mas não mais como untracked, ele apenas fica em uma área intermediaria esperando ser adicionado e commitado novamente.

Gostaríamos de lembrá-lo que todo este processo, que estamos fazendo, é totalmente local e não depende de nenhum servidor ou serviço externo.

Faça teste e modificações, brinque bastante com os comandos que acabamos de passar e siga estes exemplos para que você possa fixar o conteúdo.

Acredite! Se você quiser ser um desenvolvedor você terá que dominar o Git em todos os seus projetos.