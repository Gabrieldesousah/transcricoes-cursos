# Windows - Instalando MySQL

Agora que já temos o Composer e o PHP 7.1 configurados vamos instalar o banco de dados que a nossa aplicação irá utilizar.

O PHP com o MySQL foi uma "casamento" que deu muito certo. Existem algumas maneiras de instalar, mas nós ensinaremos utilizando o **MySQL Installer**.

Este instalador nos permite escolher quais ferramentas queremos instalar, porque o MySQL não possui apenas o banco de dados. Ao selecionar, o instalador baixa automaticamente e já instala, portanto é uma forma mais simples de instalar as ferramentas necessárias.

Existem duas versões para download: full e a compacta. Veja na imagem abaixo:

![mysql_installer](./images/mysql_installer.png "mysql_installer")

Baixaremos a versão de menor tamanho, que não possui todos os recursos que o MySQL disponibiliza.

Durante a instalação selecione a opção **custom** e selecione os seguinte itens apenas:

![mysql_installer_custom](./images/mysql_installer_custom.png "mysql_installer_custom")

Nas próximas etapas, de instalação, você poderá ter que instalar outras ferramentas necessárias, caso ainda não tenha, mas o próprio instalador lhe informará a necessidade.

Depois de instalado, partiremos para a configuração do banco de dados. Nós deixaremos as configurações originais do instalador. Veja abaixo:

![mysql_config_db](./images/mysql_config_db.png "mysql_config_db")

Avançando você irá configura usuário e senha do banco de dados. Geralmente configuramos o usuário como sendo **root** e a senhta também **root**. Algumas pessoas gostam de deixar a senha em branco.

Não precisa alterar as duas próximas etapas, basta avançar.

Por último, o instalador aplicará as configurações do servidor e fará uma série de verificações. Depois basta concluir a instalação.

Agora que temos o MySQL instalado, vamos configurar uma variável de ambiente, da mesma forma que fizemos para o PHP, para que possamos adminstrar esta ferramente pelo terminal.

Se você não lembra, copie o endereço da pasta binária da instalação, onde está o arquivo executável, e adicione às suas variáveis de ambiente.

Para isso devemos ir em: meu computador, clicar com o botão direito e ir em propriedades. Em configurações avançadas encontraremos as variáveis de ambiente.
Precisamos localizar a variável **path**, encontrando, clicamos em editar e adicionar, o caminho copiado, ao final de todos que já existirem, separado por ponto e vírgula(;).

Depois de executar estes passos, feche seu terminal e abra novamente, para que ele possa carregar as variáveis de ambiente novamente. E rode os comandos abaixo:

```
// Acessar MySQL
mysql -uroot -proot

// Criar um banco de dados
create database php_teste

// Sair do MySQL
exit
```

O **-u** é o parâmetro para informar o usuário e o **-p** para informar a senha que você configurou em seu mysql.

Percebam que criamos um banco de dados apenas com um comando. Agora para testar a conexão com o banco crie um arquivo em sua area de trabalho.

Para criar um arquivo pelo terminal pode utilizar o seguinte comando:

`touch mysql.php`

## Código do arquivo mysql.php

```
try{
    new \PDO('mysql:host=localhost;dbname=php_teste','root','root');
    echo "Conexão efetuada com sucesso!\n";
}catch(\PDOException $ex) {
    echo $ex->getMessage();
}
```

Depois de colocar este conteúdo, no arquivo, execute o mesmo, no terminal.

`php teste.php`

Se tudo estiver correta terá a conexão e a mensagem que adicionamos, caso coloque um dado errado, para conexão, você terá o seguinte erro:

**SQLSTATE\[HY000] [1049] Unknown database 'php_teste1'**

# Conclusão

Agora que já temos o PHP, Composer e MySQL instalados. Temos também o MySQL integrado com o nosso PHP.

Com isso temos nosso ambiente completo para inicial nosso projeto de estudo.