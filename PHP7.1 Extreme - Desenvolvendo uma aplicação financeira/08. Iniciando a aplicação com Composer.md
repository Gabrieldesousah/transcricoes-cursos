# Iniciando a aplicação com Composer

Daremos início a nossa aplicação financeira.

Cria uma pasta chamada **son-financas**, que será a pasta raiz de nossa aplicação. Acesse esta pasta, no seu terminal, e vamos iniciar utilizando o Composer.

Você pode utilizar a IDE que preferir, mas utilizaremos o PHP Storm para a realização do projeto. Mostraremos uma ferramenta desta IDE para deixar o código mais bonito e organizado. Mas lembrando que isso não o obriga a utilizá-la.

Você pode estar se perguntando se toda vez que for iniciar uma aplicação PHP você deve iniciar com Composer.

Podemos lhe dizer que o Composer se tornou uma ferramenta essencial para desenvolvermos projetos em PHP. Talvez você esteja começando com PHP e não tenha noção da dificuldade que existia antigamente. Quando precisávamos trabalhar com autoload e mais uma série de outros recursos, era uma dificuldade muito grande, mas o Composer veio para facilitar nossa vida.

Isso quer dizer que antigamente tínhamos um emaranhado de **requires** e **includes** para fazer o carregamento das classes que fossemos utilizar. Hoje o autoload faz isso apenas uma vez e já podemos utilizar as classes em qualquer ponto do projeto.

Caso precise utilizar uma biblioteca de terceiro, sem utilizar o Composer, você precisará fazer o download e chamar esta classe onde precisar. Com fatores, que citamos, você já pode ver a grande vantagem ao utilizar este gerenciador de pacotes PHP, chamado **Composer**.

Nós aconselhamos o uso em qualquer projeto, por mais simples que ele seja, mas isso não significa que é obrigado a utilizar.

Para iniciarmos nossa aplicação rode o comando abaixo:

`composer init`

O instalador lhe fará algumas perguntas, mas não estamos focados nestas informações no momento. Desta forma basta ir dando enter para ir passando até o próximo passo.

A conclusão será a criação de um arquivo, chamado **composer.json**, com o seguinte conteúdo:

```json
{
    "name": "luiz/son-financas",
    "authors": [
        {
            "name": "Luiz",
            "email": "argentinaluiz@gmail.com"
        }
    ],
    "require": {}
}

```

### Configurando autoload

Logo abaixo da propriedade **require** iremos adicionar a configuração do autoload abaixo:

```json
"autoload": {
    "psr-4": {
        "SONFin\\" : 'src/'
    }
}
```

Existe dois padrões de autoload que o Composer trabalha: **PSR-0** e **PSR-4**.

O PSR-0 já está depreciado, mas ainda não será removido porque existem muitos projetos que foram desenvolvidos utilizando este padrão. Porém já utilizaremos o novo padrão da PSR-4.

Depois de informar o padrão que utilizaremos, precisamos informar o **namespace** base da aplicação e para onde ele irá apontar. Este apontamento deverá ser feito para a pasta que conterá todas as suas classes do projeto. Desta forma o autoload faz um mapeamento de todas as classes deixando-as disponíveis, o tempo todo, sem que preciso ficar realizando **requires** e **includes**.

De acorco com a configuração assim temos o namespace sendo **SONFin** e está apontando para a pasta **src**, que terá todo código fonte da nossa aplicação. Esta pasta ainda não existe então o próximo passo será criá-la, dentro da pasta raiz.

`mkdir src`

Depois de criar a pasta **src**, você pode rodar o comando de criação do autoload:

`composer dumpautoload`

Ele ainda não criará nada porque não temos nenhuma classe criada, porém você perceberá que ele cria uma pasta chamada **vendor**. Esta pasta será responsável por conter todas as dependências que utilizarmos.

Caso não fosse trabalhar com o Composer, você precisaria criar uma estrutura de pastas e arquivos muito semelhante a que foi criada pelo Composer, então basta analisar pra você ver o tempo e a praticidade que você ganha ao utilizá-lo.

Teóricamente você só não utilizaria o Composer se estivesse criando um framework próprio e utilizando uma estrutura totalmente personalizada. Caso contrário, em aplicações comerciais, sempre é aconselhável utilizar.

Agora, que já temos o nosso ambiente configurado, podemos começar a instalar algumas bibliotecas, que disponibilizam algumas estruturas, para nos auxiliar a montar o nosso banco de dados.