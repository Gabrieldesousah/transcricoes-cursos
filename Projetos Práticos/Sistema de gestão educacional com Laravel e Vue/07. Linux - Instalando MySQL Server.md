# Linux - Instalando MySQL Server

O banco de dados que utilizaremos no projeto será o MySQL. Mostraremos como instalar e configurar no Linux.

Para instalar rode o comando abaixo:

```sh
sudo apt-get install mysql-server
```

Durante o processo de instalação você deverá informar a senha do usuário root do bando de dados. Utilizaremos a senha **root**, mas você pode informar a sua própria senha. A instalação pedirá para repetir a senha.

Depois que finalizar a instalação, o MySQL estará instalado e configurado. Quando reiniciar sua máquina o serviço estará disponível.

Para testar a instalação, rode os comandos abaixo. Lembrando que, para criar o banco de dados você pode utilizar uma ferramenta gráfica como o Workbench ou criar pelo terminal. Indicamos que comece a trabalhar com o terminal para que consiga evoluir como desenvolvedor.

```sh
mysql -version

mysql -uroot -proot

create database laravel_test;

exit
```

1. Mostra a versão do mysql instalada e ativa.
2. Acessa o serviço do mysql(onde pode gerenciar as instâncias pelo terminal).
	* -u - Usuário
	* -p - Password
3. Comando para criar um banco de dados.
4. Finaliza o serviço.

Para conseguir trabalhar com Laravel e MySQL é preciso instalar mais uma extensão:

```sh
sudo apt-get install php7.0-mysql
```

Sem esta extensão não conseguiríamos fazer uma conexão com o mysql.

### Testando ambiente

Com o PHP e o MySQL instalados e com as outras ferramentas, já possuímos nosso ambiente pronto para rodar uma aplicação Laravel. Faremos a instalação para testar nosso ambiente.

Para criar uma aplicação Laravel rode o comando abaixo, no terminal:

```sh
composer create-project --prefer-dist laravel/laravel laravel_test
```

Este comando fará o download dos arquivos que compõem o Laravel, dando preferência para a versão estável. O nome dado a pasta do projeto é o último parâmetro e terá o nome de **laravel_test**.

Para testar completamente, criaremos um usuário e gravaremos no banco de dados para ter certeza de que temos um ambiente devidamente configurado.

Depois de ter rodado o comando acima, acesse a pasta **laravel_test** e rode o comando abaixo:

```sh
php artisan serve
```

Este comando subirá a aplicação e você poderá acessar no navegador a url **localhost:8000** e deverá ter a aplicação funcionando.

![laravel_welcome](./images/laravel_welcome.png "laravel_welcome")

Edite o arquivo **.env**, que está na pasta raiz do projeto para os dados abaixo:

```
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=laravel_test
DB_USERNAME=root
DB_PASWORD=root
```

Veja que colocamos o banco de dados como sendo laravel_test, o usuário e senha como root, assim como acabamos de configurar no mysql.

Acesse a pasta raiz do projeto e rode o comando abaixo:

```sh
php artisan migrate
```

Caso queria criar novamente as tabelas, basta rodar o comando abaixo:

```sh
php artisan migrate:refresh
```

Com o comando acima as tabelas nativas do Laravel foram criadas, caso tivesse algum erro de configuração de banco de dados, haveria retorno de erro. Caso tenha rodado sem erros, a configuração está toda correta.

Para criar um novo usuário podemos utilizar o próprio console do Laravel, que se chama **tinker**. Rode os comandos abaixo:

```sh
php artisan tinker

App\User::create(['name' => 'test', 'email' => 'teste@test.com', 'password' => '123']);
```

Você deverá ter uma resposta como esta:

```
=> App\User {#731
     name: "test",
     email: "teste@test.com",
     updated_at: "2017-08-09 18:47:23",
     created_at: "2017-08-09 18:47:23",
     id: 1,
   }
```

Isso quer dizer que já conseguiu gravar o primeiro dado no banco de dados e que o ambiente está devidamente configurado, faltando apenas a instalação do Node.js para iniciarmos o desenvolvimento do projeto.

No próximo módulo aprenderá a instalar o node.js.